<script lang="ts">
  import { actionError } from "../stores/errors";

  export let handleAddAction: () => Promise<void>;
  async function tryHandleAddAction() {
    try {
      await handleAddAction();
    } catch (e: unknown) {
      if (e instanceof Error) {
        actionError.set(e.message);
      }
      throw e;
    }
  }
</script>

<div class="flex flex-col h-full">
  <button
    type="button"
    class="btn btn-accent whitespace-nowrap flex-grow"
    on:click={tryHandleAddAction}
  >
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="20"
      height="32"
      viewBox="0 0 320 512"
      ><path
        fill="currentColor"
        d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256L73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"
      /></svg
    >
  </button>
</div>
